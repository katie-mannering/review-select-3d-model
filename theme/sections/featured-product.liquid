{%- assign product = section.settings.product -%}

<section class="featured-product section-spacing">
  <div class="featured-product__inner page-width">
    <div class="featured-product__media">
      {%- if product.featured_image -%}
        {{ product.featured_image | image_url: width: 800 | image_tag: loading: 'lazy', class: 'featured-product__image' }}
      {%- else -%}
        <div class="featured-product__placeholder">
          {{ 'product-1' | placeholder_svg_tag }}
        </div>
      {%- endif -%}
    </div>
    <div class="featured-product__info">
      <h2 class="featured-product__heading h2">
        {%- if section.settings.heading != blank -%}{{ section.settings.heading }}{%- else -%}{{ 'sections.featured_product.default_heading' | t }}{%- endif -%}
      </h2>
      {%- if product -%}
        <p class="featured-product__title">{{ product.title }}</p>
        <p class="featured-product__price">{{ product.price | money }}</p>
        {%- if product.description != blank -%}
          <div class="featured-product__description">
            {{ product.description | truncatewords: 40 }}
          </div>
        {%- endif -%}
        <a href="{{ product.url }}" class="btn btn--primary">
          {{ 'sections.featured_product.add_to_cart' | t }}
        </a>
      {%- else -%}
        <p class="featured-product__title">Example bust</p>
        <p class="featured-product__price">$199.00</p>
        <p class="featured-product__description">Select a product in the theme editor to showcase here.</p>
      {%- endif -%}
    </div>
  </div>
</section>

{% stylesheet %}
  .featured-product__inner {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    align-items: center;
  }

  .featured-product__media {
    position: relative;
    border-radius: var(--radius-lg);
    overflow: hidden;
    background-color: var(--color-bg-secondary);
    aspect-ratio: 1;
  }

  .featured-product__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .featured-product__placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text-secondary);
    opacity: 0.3;
  }

  .featured-product__placeholder svg {
    width: 50%;
    height: 50%;
  }

  .featured-product__heading {
    color: var(--color-accent);
    margin-bottom: 0.5rem;
  }

  .featured-product__title {
    font-family: var(--font-heading);
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .featured-product__price {
    font-size: 1.25rem;
    color: var(--color-text-secondary);
    margin-bottom: 1rem;
  }

  .featured-product__description {
    color: var(--color-text-secondary);
    line-height: 1.7;
    margin-bottom: 2rem;
  }

  @media (min-width: 750px) {
    .featured-product__inner {
      grid-template-columns: 1fr 1fr;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:sections.featured_product.name",
  "settings": [
    {
      "type": "product",
      "id": "product",
      "label": "t:sections.featured_product.settings.product.label"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "t:sections.featured_product.settings.heading.label",
      "default": "The signature bust"
    }
  ],
  "presets": [
    {
      "name": "t:sections.featured_product.name"
    }
  ]
}
{% endschema %}
