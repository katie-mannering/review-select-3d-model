<section class="hero" style="--overlay-opacity: {{ section.settings.overlay_opacity | divided_by: 100.0 }}">
  <div class="hero__background">
    {%- if section.settings.image -%}
      {{ section.settings.image | image_url: width: 2000 | image_tag: loading: 'eager', class: 'hero__image' }}
    {%- endif -%}
    <div class="hero__overlay"></div>
  </div>
  <div class="hero__content page-width">
    {%- if section.settings.heading != blank -%}
      {%- assign heading = section.settings.heading -%}
    {%- else -%}
      {%- assign heading = 'sections.hero_banner.default_heading' | t -%}
    {%- endif -%}
    {%- if section.settings.subheading != blank -%}
      {%- assign subheading = section.settings.subheading -%}
    {%- else -%}
      {%- assign subheading = 'sections.hero_banner.default_subheading' | t -%}
    {%- endif -%}
    <h1 class="hero__heading h1">{{ heading }}</h1>
    <p class="hero__subheading">{{ subheading }}</p>
    {%- if section.settings.cta_text != blank -%}
      <a href="{{ section.settings.cta_link | default: routes.all_products_collection_url }}" class="btn btn--primary hero__cta">
        {{ section.settings.cta_text }}
      </a>
    {%- endif -%}
  </div>
</section>

{% stylesheet %}
  .hero {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 90vh;
    text-align: center;
    overflow: hidden;
  }

  .hero__background {
    position: absolute;
    inset: 0;
    z-index: 0;
    background-color: var(--color-bg-secondary);
  }

  .hero__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hero__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to bottom,
      rgba(26, 26, 46, var(--overlay-opacity, 0.6)),
      rgba(22, 33, 62, var(--overlay-opacity, 0.6))
    );
  }

  .hero__content {
    position: relative;
    z-index: 1;
    max-width: 700px;
    padding-block: 4rem;
  }

  .hero__heading {
    margin-bottom: 1rem;
    color: var(--color-text);
  }

  .hero__subheading {
    font-size: clamp(1rem, 2.5vw, 1.25rem);
    color: var(--color-text-secondary);
    margin-bottom: 2rem;
    line-height: 1.7;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:sections.hero_banner.name",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.hero_banner.settings.image.label"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "t:sections.hero_banner.settings.heading.label",
      "default": "Your image. Our tech."
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "t:sections.hero_banner.settings.subheading.label",
      "default": "Custom 3D printed sculpture busts crafted from your photos."
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "t:sections.hero_banner.settings.cta_text.label",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "t:sections.hero_banner.settings.cta_link.label"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "t:sections.hero_banner.settings.overlay_opacity.label",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 60,
      "unit": "%"
    }
  ],
  "presets": [
    {
      "name": "t:sections.hero_banner.name"
    }
  ]
}
{% endschema %}
